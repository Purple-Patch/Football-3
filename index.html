<!DOCTYPE html>
<html lang="en">

<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
	<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta name="rm">
    <title></title>
    
	<script type="text/javascript" src="js/gsap.min.js"></script>
	<script type="text/javascript" src="js/Draggable.min.js"></script>

	<style type="text/css">
		
		body{
			margin: 0;
			padding: 0;
		}

		.wrapper{
			position: absolute;
			width: 300px;
			height: 250px;
			top: 0;
			left: 0;
			overflow: hidden;
			cursor: pointer;
			opacity: 0;

			/* border: 4px solid #FFF;
			box-sizing: border-box; */
		}

		.bg, .target, .dragable, .slow, .miss, .ten, .five, .one, .tenpr, .fivepr, .onepr, .glass, .logo, .up, .b_1, .b_2, .b_3, .b_4, .boy, .girl, .cta, .slogan{
			position: absolute;
			width: 300px;
			height: 250px;
			top: 0;
			left: 0;
		}

		.bg{
			background-color: #4eb546;
			/* box-sizing: border-box; */
		}

		.m, .m_1, .m_2, .m_3{
			position: absolute;
			width: 45px;
			height: 58px;
			top: 0;
			left: 0;

		}

		.m_1, .m_2, .m_3{
			transform-origin: 0 0;
		}

		.m{
			top: -70%;
			left: -50%;
		}

		.glass{
			transform-origin: 50% 50%;;
		}

		.tenpr, .fivepr, .onepr{
			transform-origin: 50% 50%;
		}


/*=============================================================================*/

	</style>

</head>

<body class="inner-page">

<div class="wrapper">

	<div class="bg"></div>
	<div class="b_1"></div>
	<div class="b_2"></div>
	<div class="b_3"></div>
	<div class="b_4"></div>
	<div class="target"></div>
	<div class="glass"></div>
	<div class="slow"></div>
	<div class="miss"></div>
	<div class="up"></div>
	<div class="ten"></div>
	<div class="five"></div>
	<div class="one"></div>
	<div class="tenpr"></div>
	<div class="fivepr"></div>
	<div class="onepr"></div>
	<div class="m_1">
		<div class="m"></div>
	</div>
	<div class="m_2">
		<div class="m"></div>
	</div>
	<div class="m_3">
		<div class="m"></div>
	</div>
	<div class="boy"></div>
	<div class="girl"></div>
	<div class="cta"></div>
	<div class="slogan"></div>
	<div class="logo"></div>
	<div class="dragable"></div>

</div>

<script type="text/javascript">

var wrapper=document.querySelector(".wrapper"),url="assets/",finished=!1,started=!1,counter=0,_dsptr=function(t){(new Image).src="{EVENT_URL}"+t};function startEvent(t){_dsptr(t)}function clickThrough(t){finished&&window.open("{CLICK_URL}")}wrapper.addEventListener("click",clickThrough),gsap.set(".slow, .miss, .ten, .five, .one, .tenpr, .fivepr, .onepr, .girl, .boy, .cta, .slogan",{scale:.3,autoAlpha:0}),gsap.set(".glass",{autoAlpha:0});var elLp,els=[".m_3",".m_2",".m_1"];function lpMaker(t){elLp=gsap.to(t,{y:230,duration:1,repeat:-1,yoyo:!0})}function showSc(t){gsap.to(t,{scale:1,autoAlpha:1,duration:.3,ease:"back.out(3)"}),gsap.to(t,{scale:.3,autoAlpha:0,duration:.5,ease:"power1.in",delay:.3}),".slow"!==t&&".up"!==t&&(".miss"!==t&&(gsap.to(t+"pr",{scale:1,autoAlpha:1,duration:.3,ease:"back.out(3)"}),gsap.to(t+"pr",{scale:.3,autoAlpha:0,duration:.5,ease:"power1.in",delay:2}),setTimeout(setHit,2400)),gsap.to(".glass",{autoAlpha:1,scale:1.05,duration:.2,ease:"back.out(1)"}),gsap.to(".glass",{scale:1,duration:.5,ease:"power1.in",delay:.2}),gsap.to(".glass",{autoAlpha:0,duration:.5,ease:"power1.in",delay:1}),els.forEach(function(t){gsap.to(t,{autoAlpha:0,duration:.1,ease:"power1.out"})}),".miss"===t&&setTimeout(setHit,1200))}gsap.set(".m_1",{scale:.6,x:75,y:238}),gsap.set(".m_2",{scale:.6,x:110,y:238}),gsap.set(".m_3",{scale:1,x:150,y:238}),lpMaker(els[0]);var bgLp=gsap.timeline({repeat:-1,yoyo:!0});bgLp.to(".b_1",{scale:1.2,duration:2,ease:"power2.out"},"an"),bgLp.to(".b_2",{scale:1.2,duration:1.7,ease:"power2.out"},"an+=0.3"),bgLp.to(".b_3",{scale:1.2,duration:1.4,ease:"power2.out"},"an+=0.6"),bgLp.to(".b_4",{scale:1.2,duration:1.1,ease:"power2.out"},"an+=0.9");var outro=gsap.timeline({paused:!0});outro.to(".target",{autoAlpha:0,scale:.3,duration:.5,ease:"back.in(3)"},"an"),outro.to(".m_1, .m_2, .m_3",{autoAlpha:0,scale:.3,duration:.5,ease:"back.in(3)"},"an+=0.1"),outro.to(".boy",{scale:1,autoAlpha:1,duration:.7,ease:"back.out(2)"},"an+=0.3"),outro.to(".girl",{scale:1,autoAlpha:1,duration:.7,ease:"back.out(2)"},"an+=0.4"),outro.to(".cta",{scale:1,autoAlpha:1,duration:.7,ease:"back.out(2)"},"an+=0.5"),outro.to(".slogan",{scale:1,autoAlpha:1,duration:.7,ease:"back.out(2)"},"an+=0.6");var startTime=0,totalTime=0,deltaY=0,pointerY=0,pointerX=0,throwed=!1,targetMap=[[[126,96],[173,96],[126,144],[173,144]],[[101,72],[197,72],[101,168],[197,168]],[[77,47],[222,47],[77,193],[222,193]]];function throwEl(){gsap.to(els[0],{y:pointerY,x:pointerX,duration:1,ease:"back.out(4)",onComplete:checkHit}),gsap.to(els[0]+" .m",{scale:.5,duration:1,ease:"none"}),gsap.to(els[0]+" .m",{rotate:"random(1400, 1480)",duration:1,ease:"none"}),els.shift()}function checkHit(){pointerY>=targetMap[0][0][1]&&pointerY<targetMap[0][2][1]&&pointerX>=targetMap[0][0][0]&&pointerX<targetMap[0][1][0]?showSc(".ten"):pointerY>=targetMap[1][0][1]&&pointerY<targetMap[0][0][1]&&pointerX>=targetMap[1][0][0]&&pointerX<targetMap[1][1][0]||pointerY>=targetMap[0][0][1]&&pointerY<targetMap[1][2][1]&&pointerX>=targetMap[1][0][0]&&pointerX<targetMap[0][0][0]||pointerY>=targetMap[0][0][1]&&pointerY<targetMap[1][2][1]&&pointerX>=targetMap[0][1][0]&&pointerX<targetMap[1][1][0]||pointerY>=targetMap[0][2][1]&&pointerY<targetMap[1][2][1]&&pointerX>=targetMap[1][0][0]&&pointerX<targetMap[1][3][0]?showSc(".five"):pointerY>=targetMap[2][0][1]&&pointerY<targetMap[1][0][1]&&pointerX>=targetMap[2][0][0]&&pointerX<targetMap[2][1][0]||pointerY>=targetMap[1][0][1]&&pointerY<targetMap[2][2][1]&&pointerX>=targetMap[2][0][0]&&pointerX<targetMap[1][0][0]||pointerY>=targetMap[1][0][1]&&pointerY<targetMap[2][2][1]&&pointerX>=targetMap[1][1][0]&&pointerX<targetMap[2][1][0]||pointerY>=targetMap[1][2][1]&&pointerY<targetMap[2][2][1]&&pointerX>=targetMap[2][0][0]&&pointerX<targetMap[2][3][0]?showSc(".one"):showSc(".miss")}function setHit(){counter<=2&&(throwed=!1,els.forEach(function(t,a){gsap.to(t,{x:"+=35",autoAlpha:1,duration:.5,ease:"back.out(2)"})}),gsap.to(els[0],{scale:1}),lpMaker(els[0])),3===counter&&(finished=!0,outro.play(),startEvent("finished"))}var dragging=Draggable.create(".dragable",{type:"x, y",bounds:wrapper,zIndexBoost:!1,edgeResistance:.7,allowEventDefault:!1,onDrag:function(){throwed||(gsap.to(els[0],{y:238+this.endY,x:150+this.endX}),pointerY=this.pointerY,pointerX=this.pointerX,deltaY=this.deltaY)},onDragStart:function(){throwed||(startTime=new Date,elLp.pause())},onDragEnd:function(){if(!throwed){var t=new Date;if(totalTime=t-startTime,started||(started=!0,gsap.to(".up",{autoAlpha:0,scale:.3,duration:.5,ease:"back.in(3)"}),startEvent("started")),deltaY>0)return gsap.to(els[0],{x:150,y:238,onComplete:function(){elLp.restart()}}),void showSc(".up");totalTime<250?(counter++,throwed=!0,elLp.kill(),throwEl()):(gsap.to(els[0],{x:150,y:238,onComplete:function(){elLp.restart()}}),showSc(".slow"))}}});function init(){gsap.to(".wrapper",.5,{opacity:1})}var imgs=["target.png","m.png","miss.png","slow.png","ten.png","five.png","one.png","glass.png","tenpr.png","fivepr.png","onepr.png","logo.png","up.png","b_1.png","b_2.png","b_3.png","b_4.png","girl.png","boy.png","cta.png","slogan.png"],imgsLoaded=0;function loadImgs(){var t=document.getElementsByTagName("div"),a=[];for(var e in t)t.hasOwnProperty(e)&&a.push(t[e].className);imgs.forEach(function(e){var o=new Image;o.addEventListener("load",function(o){imgsLoaded++;var r=e.split(".")[0];a.forEach(function(a,e){a===r&&(t[e].style.backgroundImage="url("+o.target.src+")")}),imgsLoaded===imgs.length&&init()}),o.src=url+e})}loadImgs();
</script>

</body>

</html>
